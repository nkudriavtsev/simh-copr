diff -ur simh-3.11.0/sim/sim_fio.c simh-3.11.0m/sim/sim_fio.c
--- simh-3.11.0/sim/sim_fio.c	2023-01-20 09:14:08.772266582 -0700
+++ simh-3.11.0m/sim/sim_fio.c	2023-01-20 09:14:32.671541317 -0700
@@ -182,7 +182,7 @@
 #if defined (VMS)
 return fopen (file, mode, "ALQ=32", "DEQ=4096",
         "MBF=6", "MBC=127", "FOP=cbt,tef", "ROP=rah,wbh", "CTX=stm");
-#elif (defined (__linux) || defined (__linux__) || defined (__hpux) || defined (_AIX)) && !defined (DONT_DO_LARGEFILE)
+#elif (defined (__hpux) || defined (_AIX)) && !defined (DONT_DO_LARGEFILE)
 return fopen64 (file, mode);
 #else
 return fopen (file, mode);
@@ -261,9 +261,9 @@
 
 #endif                                                  /* end Windows */
 
-/* Linux, HP/UX, and AIX */
+/* HP/UX, and AIX */
 
-#if defined (__linux) || defined (__linux__) || defined (__hpux) || defined (_AIX)
+#if defined (__hpux) || defined (_AIX)
 #define S_SIM_IO_FSEEK_EXT_ 1
 
 int sim_fseeko (FILE *st, t_offset xpos, int origin)
@@ -278,9 +278,9 @@
 
 #endif                                                  /* end Linux with LFS */
 
-/* Apple OS/X and the BSD family */
+/* Linux, Apple OS/X and the BSD family */
 
-#if defined (__APPLE__) || defined (__FreeBSD__) || defined(__NetBSD__) || defined (__OpenBSD__) 
+#if defined (__linux) || defined (__linux__) || defined (__APPLE__) || defined (__FreeBSD__) || defined(__NetBSD__) || defined (__OpenBSD__) 
 #define S_SIM_IO_FSEEK_EXT_ 1
 
 int sim_fseeko (FILE *st, t_offset xpos, int origin) 
